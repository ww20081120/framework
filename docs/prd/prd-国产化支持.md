# Framework4.X 增强国产化支持 (Product Requirement Document)

**文档版本**: 1.0
**日期**: 2025-08-15
**作者**: John (产品经理)
**状态**: 草稿 (Draft)

---

## **1. 引言 (Introduction)**

### **1.1 目的 (Purpose)**
本文档旨在定义 Framework4.X 框架增强对国产化技术栈支持的需求。通过本次升级，框架将更好地适配国内信创环境，满足政府、金融、能源等关键行业对信息安全和自主可控的要求，从而扩大潜在用户群体和市场竞争力。

### **1.2 范围 (Scope)**
本 PRD 涵盖 Framework4.X 框架核心模块对国产操作系统、国产CPU架构、国产数据库、国产中间件以及国密算法的支持。它将指导开发、测试和发布团队在未来几个版本中实现这些功能。

### **1.3 参考文献 (References)**
*   Framework4.X 项目简介
*   Framework4.X 架构文档
* 国家信息技术应用创新相关政策文件

## **2. 总体描述 (Overall Description)**

### **2.1产品愿景 (Product Vision)**
成为国内信创环境中首选的企业级Java应用开发框架，为开发者提供无缝、高效、安全的国产化开发体验。

### **2.2 用户特征 (User Characteristics)**
*   **目标用户**:
    * 使用国产化软硬件环境进行应用开发和部署的企业级开发者和架构师。
    *   对信息安全、数据主权有严格要求的政府机构、国有企业和关键基础设施运营商。
*   **用户需求**:
    * 框架能够在指定的国产化技术栈上稳定、高效运行。
    *   框架提供对国密算法的原生支持。
    * 框架文档包含详细的国产化环境部署和配置指南。

### **2.3 假设、依赖和约束 (Assumptions, Dependencies & Constraints)**
*   **假设**: 国产化技术生态将持续发展，主流国产软硬件产品将保持一定的稳定性和兼容性。
* **依赖**:
    * 各国产软硬件厂商提供完善的开发文档和SDK。
    * 开源社区（如Spring, Hibernate）对国产化环境的支持。
*   **约束**:
    * 需要在不破坏现有功能和兼容性的前提下进行增强。
    *   需要投入额外的资源进行兼容性测试和认证。

## **3. 功能性需求 (Functional Requirements)**

### **3.1 核心国产化适配 (Core Localization Adaptation)**
| FR-ID | 模块 | 功能描述 | 优先级 | 说明 |
| :--- | :--- | :--- | :--- | :--- |
| FR-1 | framework-db | **支持国产数据库** | 高 | 适配达梦(DM)、人大金仓(KingbaseES)、南大通用(GBase)等主流国产数据库。需要开发或集成对应的JDBC驱动和SQL方言支持。 |
| FR-2 | framework-cache | **支持国产Redis兼容产品** | 中 | 确保`framework-cache-redis`模块能与国产Redis兼容产品（如阿里云Tair、腾讯云CRS等）良好协作。 |
| FR-3 | framework-message | **支持国产消息中间件** | 中 |适配国产MQ产品，或确保与RocketMQ、Kafka的国产化发行版（如华为CloudLink等）兼容。可能需要新的适配器。 |
| FR-4 | framework-job | **支持国产任务调度中间件** | 中 | 确保与Quartz、XXL-JOB、ElasticJob的国产化版本兼容，或适配其他国产调度系统。 |
| FR-5 | N/A | **支持国产操作系统** | 高 | 全面支持麒麟(Kylin)、统信(UOS)等主流国产操作系统。需在CI/CD、开发指南、部署文档中提供验证和说明。 |
| FR-6 | N/A | **支持国产CPU架构** | 高 | 适配ARM64（飞腾、鲲鹏）等国产CPU架构。需关注性能调优和潜在兼容性问题。 |

### **3.2 安全增强 (Security Enhancement)**
| FR-ID | 模块 | 功能描述 |优先级 |说明 |
| :--- | :--- | :--- | :--- | :--- |
| FR-7 | framework-common 或 新模块 | **集成国密算法 (SM2/SM3/SM4)** | 高 | 提供国密算法的加密、解密、签名、验签等功能。可在`framework-common`中增加安全工具类，或创建独立的安全模块。 |
| FR-8 | N/A | **HTTPS国密支持** | 中 | 确保框架应用能通过国密SSL/TLS协议进行安全通信。 |

### **3.3 AI能力国产化 (AI Localization)**
| FR-ID | 模块 | 功能描述 |优先级 |说明 |
| :--- | :--- | :--- | :--- | :--- |
| FR-9 | framework-ai, framework-langchain4j | **集成更多国产大模型API** | 中 | 除了DashScope，增加对百度文心一言、商汤日日新等国产大模型API的集成。 |
| FR-10 | framework-langchain4j | **支持国产向量数据库** |低 | 探索与Zilliz Cloud等国产向量数据库的集成。 |

## **4. 非功能性需求 (Non-Functional Requirements)**
| NFR-ID | 类别 | 描述 |优先级 |
| :--- | :--- | :--- | :--- |
| NFR-1 | 性能 | 在国产化硬件和软件环境下，框架核心功能的性能下降不超过10%。 | 高 |
| NFR-2 | 可靠性 | 框架在国产化环境下需通过与x86/非国产环境同等的稳定性测试。 | 高 |
| NFR-3 | 兼容性 | 提供详细的兼容性矩阵，明确支持的国产软硬件版本。 | 高 |
| NFR-4 | 易用性 | 提供国产化环境下的快速入门指南和部署文档。 | 高 |
| NFR-5 | 安全性 | 集成的国密算法需符合国家相关标准。 | 高 |

## **5.产品路线图 (Product Roadmap)**
* **阶段一 (V4.2 - 预计2025 Q4)**:
    * 完成对麒麟、统信操作系统和ARM64架构的基础适配 (FR-5, FR-6)。
    * 完成对达梦、人大金仓数据库的基础驱动和方言支持 (FR-1)。
    * 完成国密算法库的集成和基础功能开发 (FR-7)。
*   **阶段二 (V4.3 - 预计2026 Q1)**:
    * 完善国产数据库的高级特性支持和性能优化 (FR-1)。
    * 完成对国产Redis兼容产品的适配 (FR-2)。
    *   完善HTTPS国密支持 (FR-8)。
    *   提供全面的国产化环境部署和配置文档。
*   **阶段三 (V4.4及以后)**:
    * 根据市场反馈和技术发展，逐步支持更多国产中间件 (FR-3, FR-4)。
    * 集成更多国产大模型API (FR-9)。
    *   探索国产向量数据库集成 (FR-10)。
    * 寻求相关国产化技术或信创产品的兼容性认证。

## **6. 成功指标 (Success Metrics)**
*   在国产化操作系统和CPU架构上成功部署并运行Framework的Demo应用。
*通过与国产数据库厂商的兼容性测试，并获得认证（如适用）。
*   国密算法功能通过国家认可的第三方安全检测。
* 在目标用户群体中，对国产化支持的满意度评分达到4.0/5.0以上。